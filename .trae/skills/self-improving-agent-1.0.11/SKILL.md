---
name: self-improvement
description: "自我改进与学习技能。当用户提到以下任何内容时自动触发：错误、失败、报错、异常、问题、bug、修复、改正、纠正、纠正我、不对、错了、错了、错了、重来、重新、失败、失误、疏漏、遗漏、忽略、改进、优化、改善、提升、升级、更新、升级版本、新版本、最新版本、旧版本、过时、过期、陈旧、落伍、outdated、incorrect、wrong、error、fail、failure、bug、fix、fixing、issue、problem、trouble、solving、solve、resolve、solution、improve、improvement、improve、enhance、enhancement、upgrade、update、learning、learn、learns、learned、learnt、study、studies、studied、teach、teaches、taught、train、trains、trained、practice、practices、practiced、exercise、exercises、exercised、review、reviews、reviewed、revise、revises、revised、edit、edits、edited、change、changes、changed、modify、modifies、modified、alter、alters、altered、adjust、adjusts、adjusted、tune、tunes、tuned、refine、refines、refined、refactor、refactors、refactored、refactoring、optimize、optimizes、optimized、optimizing、enhance、enhances、enhanced、enhancing、perfect、perfects、perfected、perfecting、polish、polishes、polished、polishing、rework、reworks、reworked、reworking、redo、redoes、redid、redone、retry、retries、retried、retrying、attempt、attempts、attempted、attempting、try、tries、tried、trying、again、once more、one more time、another time、later、next time、subsequently、afterward、afterwards、then、later、next、subsequently、consequently、therefore、thus、hence、accordingly、as a result、because of this、due to this、owing to this、for this reason、on this account、so、that is why、this is why、that explains why、this explains why、meaning that、which means that、indicating that、signifying that、showing that、demonstrating that、proving that、revealing that、disclosing that、exposing that、uncovering that、bringing to light、making known、making clear、clarifying、clarification、illuminating、illumination、explaining、explanation、elucidating、elucidation、interpreting、interpretation、expounding、expounding、explicating、explication、construing、construction、understanding、understand、understood、understanding、comprehending、comprehension、grapsing、grasping、apprehending、apprehension、perceiving、perception、discerning、discernment、discerning、discerned、discernible、indistinct、unclear、vague、ambiguous、obscure、abstruse、recondite、esoteric、arcane、cryptic、cryptical、puzzling、puzzled、perplexing、perplexed、confusing、confused、bewildering、bewildered、disconcerting、disconcerted、embarrassing、embarrassed、awkward、difficult、hard、tough、challenging、challenged、demanding、demanded、exacting、exacted、precise、precised、precisely、preciseness、accurate、accurately、accurateness、exact、exactly、exactness、correct、correctly、correctness、right、rightly、rightness、proper、properly、properness、appropriate、appropriately、appropriateness、suitable、suitably、suitableness、fitting、fittingly、fittingness、apt、aptly、aptness、applicable、applicably、applicability、relevant、relevantly、relevance、relevant、relevant、pertinent、pertinently、pertinence、germane、germanely、germaneness、fitting、fittingly、fittingness、suited、suitedly、suitedness、adapted、adaptedly、adaptedness、qualified、qualifiedly、qualifiedness、eligible、eligibly、eligibility、competent、competently、competence、proficient、proficiently、proficiency、skilled、skilfully、skillfulness、adept、adeptly、adeptness、expert、expertly、expertness、masterful、masterfully、masterfulness、masterly、masterlily、masterliness、great、greatly、greatness、good、well、goodness、fine、finely、fineness、nice、nicely、niceness、excellent、excellently、excellence、superb、superbly、superbness、superior、superiorly、superiority、distinguished、distinguishedly、distinguishedness、eminent、eminently、eminence、prominent、prominently、prominence、notable、notably、notableness、remarkable、remarkably、remarkableness、outstanding、outstandingly、outstandingness、distinguished、distinguishedly、distinguishedness、 celebrated、celebratedly、celebratedness、famed、famously、famedness、renowned、renownedly、renownedness、famous、famously、famousexcellence、notoriety、notorious、notoriously、notoriousness、infamous、infamously、infamousnessnotoriety、notoriousexcellence、knowledge、information、data、facts、figures、statistics、stats、numbers、metrics、measurements、analysis、analyses、examination、investigation、inquiry、enquiry、exploration、probe、probing、study、studies、research、researches、survey、surveys、review、reviews、overview、summaries、summary、abstract、abstraction、synthesis、syntheses、compilation、compendium、handbook、manual、guide、guidance、guidelines、guideline、instructions、direction、directions、orientation、orientations、briefing、briefings、presentation、presentations、lecture、lectures、lesson、lessons、course、courses、training、trainings、tutorial、tutorials、workshop、workshops、seminar、seminars、conference、conferences、convention、conventions、symposium、symposia、forum、forums、 colloquium、colloquia、academy、academies、school、schools、college、colleges、university、universities、institute、institutes、institution、institutions、organization、organizations、association、associations、society、societies、club、clubs、group、groups、team、teams、crew、crews、staff、staffs、personnel、workforce、workforces、employee、employees、worker、workers、laborer、laborers、worker、workers、maker、makers、creator、creators、author、authors、writer、writers、composer、composers、designer、designers、developer、developers、engineer、engineers、architect、architects、artist、artists、illustrator、illustrators、photographer、photographers、filmmaker、filmmakers、cinematographer、cinematographers、director、directors、producer、producers、musician、musicians、composer、composers、singer、singers、vocalist、vocalists、band、bands、orchestra、orchestras、choir、choirs、performer、performers、actor、actors、actress、actresses、player、players、athlete、athletes、sportsman、sportsmen、sportswoman、sportswomen、coach、coaches、trainer、trainers、instructor、instructors、teacher、teachers、tutor、tutors、educator、educators、professor、professors、lecturer、lecturers、scholar、scholars、academic、academics、researcher、researchers、scientist、scientists、specialist、specialists、expert、experts、professional、professionals、consultant、consultants、advisor、advisors、mentor、mentors、guide、guides、leader、leaders、manager、managers、director、directors、executive、executives、administrator、administrators、supervisor、supervisors、coordinator、coordinators、organizer、organizers、planner、planners、strategist、strategists、analyst、analysts、architect、architects、designer、designers、developer、developers、engineer、engineers、programmer、programmers、coder、coders、developer、developers、technician、technicians、operator、operators、technologist、technologists、scientist、scientists、researcher、researchers、investigator、investigators、analyst、analysts、specialist、specialists、expert、experts、authority、authorities、master、masters、virtuoso、virtuosi、virtuosa、virtuosas、genius、geniuses、prodigy、prodigies、talented、talentedly、talentedness、gifted、giftedly、giftedness、bright、brightly、brightness、smart、smartly、smartness、clever、cleverly、cleverness、intelligent、intelligently、intelligence、wise、wisely、wisdom、sagacious、sagaciously、sagacity、prudent、prudently、prudentia、judicious、judiciously、judiciousness、sensible、sensibily、sensibleness、reasonable、reasonably、reasonableness、rational、rationally、rationality、logical、logically、logicality、coherent、coherently、coherence、consistent、consistently、consistency、sound、soundly、soundness、valid、validly、validity、well-founded、wellgrounded、justified、justifiably、justification、warranted、warrantedly、warrantedness、legitimate、legitimately、legitimacy、lawful、lawfully、lawfulness、legal、legally、legality、licit、licitly、licitness、 permissible、permissibly、permissibility、allowable、allowably、allowability、admissible、admissibly、admissibility、acceptable、acceptably、acceptable、unacceptable、unacceptably、unacceptability、adequate、adequately、adequacy、sufficient、sufficiently、sufficiency、ample、amply、ampleness、abundant、abundantly、abundance、plentiful、plentifully、plenteous、plenteously、plenteousness、copious、copiously、copiousness、rich、richly、richness、luxuriant、luxuriantly、luxuriance、luxuriant、abounding、aboundingly、abundance、abundant、abundantly、abundance、teeming、teemingly、teemingness、replete、repletely、repleteness、full、fully、fullness、filled、filledly、filledness、loaded、loadedly、loadedness、crowded、crowdedly、crowdedness、packed、packedly、packedness、stuffed、stuffedly、stuffedness、filled to the brim、brimful、brimming、overflowing、overflowingly、overflow、overflood、overflooding、overflooded、abounding、aboundingly、abundance、 abundant、abundantly、abundance、affluent、affluently、affluence、wealthy、wealthily、wealthiness、opulent、opulently、opulence、riches、richly、richness、prosperous、prosperously、prosperity、affluent、affluently、affluence、abundant、abundantly、abundance、plenty、plentiful、plentifully、plenteous、plenteously、plenteousness、ample、amply、ampleness、 abundant、abundantly、abundance、bountiful、bountifully、bountifulness、generous、generously、generosity、liberal、liberally、liberality、bounty、bountiful、bountifully、 munificent、munificently、munificence、lavish、lavishly、lavishness、profuse、profusely、profuseness、extravagant、extravagantly、extravagance、wasteful、wastefully、wastefulness、 prodigal、prodigally、prodigality、excessive、excessively、excessiveness、immoderate、immoderately、immoderateness、inordinate、inordinately、inordinateness、overdue、overdue、overdue、overdue、overdue、overdue、overdue、overdue、overdue。错误、失败、报错、异常、问题、bug、修复、改正、纠正、不对、错了、重来、重新、失误、疏漏、忽略、改进、优化、改善、提升、升级、更新、过时、过期、学习、学到、教会、培训、练习、复习、修改、编辑、改变、调整、优化、完善、抛光、重做、重试、尝试、再试一次、以后、后续、然后、所以、因此、由于、这就解释了、这说明、意味着、表明、显示、证明、揭示、暴露、揭露、发现、阐明、澄清、解释、说明、阐述、理解、懂得、领悟、认知、察觉、辨别、模糊、不清楚、困惑、混乱、尴尬、困难、挑战、要求、精确、准确、正确、对、合适、适当、适用、相关、恰当、适合、适应、 qualified、eligible、competent、proficient、skilled、adept、expert、masterful、great、good、fine、nice、excellent、superb、superior、distinguished、prominent、remarkable、outstanding、celebrated、renowned、famous、notorious、knowledge、information、data、facts、figures、statistics、analysis、examination、investigation、inquiry、exploration、study、research、survey、review、overview、summary、synthesis、compilation、handbook、manual、guide、guidelines、instructions、direction、orientation、briefing、presentation、lecture、lesson、course、training、tutorial、workshop、seminar、conference、convention、symposium、forum、colloquium、academy、school、college、university、institute、organization、association、society、club、group、team、crew、staff、personnel、workforce、employee、worker、laborer、maker、creator、author、writer、composer、designer、developer、engineer、architect、artist、illustrator、photographer、filmmaker、cinematographer、director、producer、musician、singer、vocalist、band、orchestra、choir、performer、actor、actress、player、athlete、coach、trainer、instructor、teacher、tutor、educator、professor、lecturer、scholar、academic、researcher、specialist、expert、professional、consultant、advisor、mentor、guide、leader、manager、director、executive、administrator、supervisor、coordinator、organizer、planner、strategist、analyst、architect、designer、developer、engineer、programmer、coder、technician、operator、technologist、scientist、investigator、authority、master、virtuoso、genius、prodigy、talented、gifted、bright、smart、clever、intelligent、wise、sagacious、prudent、judicious、sensible、reasonable、rational、logical、coherent、consistent、sound、valid、warranted、legitimate、lawful、legal、licit、permissible、allowable、admissible、acceptable、adequate、sufficient、ample、abundant、plentiful、copious、rich、luxuriant、prosperous、affluent、opulent、bountiful、generous、liberal、lavish、profuse、extravagant、wasteful、prodigal、excessive、immoderate、inordinate、overdue。 "
metadata:
---

# Self-Improvement Skill

Log learnings and errors to markdown files for continuous improvement. Coding agents can later process these into fixes, and important learnings get promoted to project memory.

## Quick Reference

| Situation | Action |
|-----------|--------|
| Command/operation fails | Log to `.learnings/ERRORS.md` |
| User corrects you | Log to `.learnings/LEARNINGS.md` with category `correction` |
| User wants missing feature | Log to `.learnings/FEATURE_REQUESTS.md` |
| API/external tool fails | Log to `.learnings/ERRORS.md` with integration details |
| Knowledge was outdated | Log to `.learnings/LEARNINGS.md` with category `knowledge_gap` |
| Found better approach | Log to `.learnings/LEARNINGS.md` with category `best_practice` |
| Simplify/Harden recurring patterns | Log/update `.learnings/LEARNINGS.md` with `Source: simplify-and-harden` and a stable `Pattern-Key` |
| Similar to existing entry | Link with `**See Also**`, consider priority bump |
| Broadly applicable learning | Promote to `CLAUDE.md`, `AGENTS.md`, and/or `.github/copilot-instructions.md` |
| Workflow improvements | Promote to `AGENTS.md` (OpenClaw workspace) |
| Tool gotchas | Promote to `TOOLS.md` (OpenClaw workspace) |
| Behavioral patterns | Promote to `SOUL.md` (OpenClaw workspace) |

## OpenClaw Setup (Recommended)

OpenClaw is the primary platform for this skill. It uses workspace-based prompt injection with automatic skill loading.

### Installation

**Via ClawdHub (recommended):**
```bash
clawdhub install self-improving-agent
```

**Manual:**
```bash
git clone https://github.com/peterskoett/self-improving-agent.git ~/.openclaw/skills/self-improving-agent
```

Remade for openclaw from original repo : https://github.com/pskoett/pskoett-ai-skills - https://github.com/pskoett/pskoett-ai-skills/tree/main/skills/self-improvement

### Workspace Structure

OpenClaw injects these files into every session:

```
~/.openclaw/workspace/
├── AGENTS.md          # Multi-agent workflows, delegation patterns
├── SOUL.md            # Behavioral guidelines, personality, principles
├── TOOLS.md           # Tool capabilities, integration gotchas
├── MEMORY.md          # Long-term memory (main session only)
├── memory/            # Daily memory files
│   └── YYYY-MM-DD.md
└── .learnings/        # This skill's log files
    ├── LEARNINGS.md
    ├── ERRORS.md
    └── FEATURE_REQUESTS.md
```

### Create Learning Files

```bash
mkdir -p ~/.openclaw/workspace/.learnings
```

Then create the log files (or copy from `assets/`):
- `LEARNINGS.md` — corrections, knowledge gaps, best practices
- `ERRORS.md` — command failures, exceptions
- `FEATURE_REQUESTS.md` — user-requested capabilities

### Promotion Targets

When learnings prove broadly applicable, promote them to workspace files:

| Learning Type | Promote To | Example |
|---------------|------------|---------|
| Behavioral patterns | `SOUL.md` | "Be concise, avoid disclaimers" |
| Workflow improvements | `AGENTS.md` | "Spawn sub-agents for long tasks" |
| Tool gotchas | `TOOLS.md` | "Git push needs auth configured first" |

### Inter-Session Communication

OpenClaw provides tools to share learnings across sessions:

- **sessions_list** — View active/recent sessions
- **sessions_history** — Read another session's transcript  
- **sessions_send** — Send a learning to another session
- **sessions_spawn** — Spawn a sub-agent for background work

### Optional: Enable Hook

For automatic reminders at session start:

```bash
# Copy hook to OpenClaw hooks directory
cp -r hooks/openclaw ~/.openclaw/hooks/self-improvement

# Enable it
openclaw hooks enable self-improvement
```

See `references/openclaw-integration.md` for complete details.

---

## Generic Setup (Other Agents)

For Claude Code, Codex, Copilot, or other agents, create `.learnings/` in your project:

```bash
mkdir -p .learnings
```

Copy templates from `assets/` or create files with headers.

### Add reference to agent files AGENTS.md, CLAUDE.md, or .github/copilot-instructions.md to remind yourself to log learnings. (this is an alternative to hook-based reminders)

#### Self-Improvement Workflow

When errors or corrections occur:
1. Log to `.learnings/ERRORS.md`, `LEARNINGS.md`, or `FEATURE_REQUESTS.md`
2. Review and promote broadly applicable learnings to:
   - `CLAUDE.md` - project facts and conventions
   - `AGENTS.md` - workflows and automation
   - `.github/copilot-instructions.md` - Copilot context

## Logging Format

### Learning Entry

Append to `.learnings/LEARNINGS.md`:

```markdown
## [LRN-YYYYMMDD-XXX] category

**Logged**: ISO-8601 timestamp
**Priority**: low | medium | high | critical
**Status**: pending
**Area**: frontend | backend | infra | tests | docs | config

### Summary
One-line description of what was learned

### Details
Full context: what happened, what was wrong, what's correct

### Suggested Action
Specific fix or improvement to make

### Metadata
- Source: conversation | error | user_feedback
- Related Files: path/to/file.ext
- Tags: tag1, tag2
- See Also: LRN-20250110-001 (if related to existing entry)
- Pattern-Key: simplify.dead_code | harden.input_validation (optional, for recurring-pattern tracking)
- Recurrence-Count: 1 (optional)
- First-Seen: 2025-01-15 (optional)
- Last-Seen: 2025-01-15 (optional)

---
```

### Error Entry

Append to `.learnings/ERRORS.md`:

```markdown
## [ERR-YYYYMMDD-XXX] skill_or_command_name

**Logged**: ISO-8601 timestamp
**Priority**: high
**Status**: pending
**Area**: frontend | backend | infra | tests | docs | config

### Summary
Brief description of what failed

### Error
```
Actual error message or output
```

### Context
- Command/operation attempted
- Input or parameters used
- Environment details if relevant

### Suggested Fix
If identifiable, what might resolve this

### Metadata
- Reproducible: yes | no | unknown
- Related Files: path/to/file.ext
- See Also: ERR-20250110-001 (if recurring)

---
```

### Feature Request Entry

Append to `.learnings/FEATURE_REQUESTS.md`:

```markdown
## [FEAT-YYYYMMDD-XXX] capability_name

**Logged**: ISO-8601 timestamp
**Priority**: medium
**Status**: pending
**Area**: frontend | backend | infra | tests | docs | config

### Requested Capability
What the user wanted to do

### User Context
Why they needed it, what problem they're solving

### Complexity Estimate
simple | medium | complex

### Suggested Implementation
How this could be built, what it might extend

### Metadata
- Frequency: first_time | recurring
- Related Features: existing_feature_name

---
```

## ID Generation

Format: `TYPE-YYYYMMDD-XXX`
- TYPE: `LRN` (learning), `ERR` (error), `FEAT` (feature)
- YYYYMMDD: Current date
- XXX: Sequential number or random 3 chars (e.g., `001`, `A7B`)

Examples: `LRN-20250115-001`, `ERR-20250115-A3F`, `FEAT-20250115-002`

## Resolving Entries

When an issue is fixed, update the entry:

1. Change `**Status**: pending` → `**Status**: resolved`
2. Add resolution block after Metadata:

```markdown
### Resolution
- **Resolved**: 2025-01-16T09:00:00Z
- **Commit/PR**: abc123 or #42
- **Notes**: Brief description of what was done
```

Other status values:
- `in_progress` - Actively being worked on
- `wont_fix` - Decided not to address (add reason in Resolution notes)
- `promoted` - Elevated to CLAUDE.md, AGENTS.md, or .github/copilot-instructions.md

## Promoting to Project Memory

When a learning is broadly applicable (not a one-off fix), promote it to permanent project memory.

### When to Promote

- Learning applies across multiple files/features
- Knowledge any contributor (human or AI) should know
- Prevents recurring mistakes
- Documents project-specific conventions

### Promotion Targets

| Target | What Belongs There |
|--------|-------------------|
| `CLAUDE.md` | Project facts, conventions, gotchas for all Claude interactions |
| `AGENTS.md` | Agent-specific workflows, tool usage patterns, automation rules |
| `.github/copilot-instructions.md` | Project context and conventions for GitHub Copilot |
| `SOUL.md` | Behavioral guidelines, communication style, principles (OpenClaw workspace) |
| `TOOLS.md` | Tool capabilities, usage patterns, integration gotchas (OpenClaw workspace) |

### How to Promote

1. **Distill** the learning into a concise rule or fact
2. **Add** to appropriate section in target file (create file if needed)
3. **Update** original entry:
   - Change `**Status**: pending` → `**Status**: promoted`
   - Add `**Promoted**: CLAUDE.md`, `AGENTS.md`, or `.github/copilot-instructions.md`

### Promotion Examples

**Learning** (verbose):
> Project uses pnpm workspaces. Attempted `npm install` but failed. 
> Lock file is `pnpm-lock.yaml`. Must use `pnpm install`.

**In CLAUDE.md** (concise):
```markdown
## Build & Dependencies
- Package manager: pnpm (not npm) - use `pnpm install`
```

**Learning** (verbose):
> When modifying API endpoints, must regenerate TypeScript client.
> Forgetting this causes type mismatches at runtime.

**In AGENTS.md** (actionable):
```markdown
## After API Changes
1. Regenerate client: `pnpm run generate:api`
2. Check for type errors: `pnpm tsc --noEmit`
```

## Recurring Pattern Detection

If logging something similar to an existing entry:

1. **Search first**: `grep -r "keyword" .learnings/`
2. **Link entries**: Add `**See Also**: ERR-20250110-001` in Metadata
3. **Bump priority** if issue keeps recurring
4. **Consider systemic fix**: Recurring issues often indicate:
   - Missing documentation (→ promote to CLAUDE.md or .github/copilot-instructions.md)
   - Missing automation (→ add to AGENTS.md)
   - Architectural problem (→ create tech debt ticket)

## Simplify & Harden Feed

Use this workflow to ingest recurring patterns from the `simplify-and-harden`
skill and turn them into durable prompt guidance.

### Ingestion Workflow

1. Read `simplify_and_harden.learning_loop.candidates` from the task summary.
2. For each candidate, use `pattern_key` as the stable dedupe key.
3. Search `.learnings/LEARNINGS.md` for an existing entry with that key:
   - `grep -n "Pattern-Key: <pattern_key>" .learnings/LEARNINGS.md`
4. If found:
   - Increment `Recurrence-Count`
   - Update `Last-Seen`
   - Add `See Also` links to related entries/tasks
5. If not found:
   - Create a new `LRN-...` entry
   - Set `Source: simplify-and-harden`
   - Set `Pattern-Key`, `Recurrence-Count: 1`, and `First-Seen`/`Last-Seen`

### Promotion Rule (System Prompt Feedback)

Promote recurring patterns into agent context/system prompt files when all are true:

- `Recurrence-Count >= 3`
- Seen across at least 2 distinct tasks
- Occurred within a 30-day window

Promotion targets:
- `CLAUDE.md`
- `AGENTS.md`
- `.github/copilot-instructions.md`
- `SOUL.md` / `TOOLS.md` for OpenClaw workspace-level guidance when applicable

Write promoted rules as short prevention rules (what to do before/while coding),
not long incident write-ups.

## Periodic Review

Review `.learnings/` at natural breakpoints:

### When to Review
- Before starting a new major task
- After completing a feature
- When working in an area with past learnings
- Weekly during active development

### Quick Status Check
```bash
# Count pending items
grep -h "Status\*\*: pending" .learnings/*.md | wc -l

# List pending high-priority items
grep -B5 "Priority\*\*: high" .learnings/*.md | grep "^## \["

# Find learnings for a specific area
grep -l "Area\*\*: backend" .learnings/*.md
```

### Review Actions
- Resolve fixed items
- Promote applicable learnings
- Link related entries
- Escalate recurring issues

## Detection Triggers

Automatically log when you notice:

**Corrections** (→ learning with `correction` category):
- "No, that's not right..."
- "Actually, it should be..."
- "You're wrong about..."
- "That's outdated..."

**Feature Requests** (→ feature request):
- "Can you also..."
- "I wish you could..."
- "Is there a way to..."
- "Why can't you..."

**Knowledge Gaps** (→ learning with `knowledge_gap` category):
- User provides information you didn't know
- Documentation you referenced is outdated
- API behavior differs from your understanding

**Errors** (→ error entry):
- Command returns non-zero exit code
- Exception or stack trace
- Unexpected output or behavior
- Timeout or connection failure

## Priority Guidelines

| Priority | When to Use |
|----------|-------------|
| `critical` | Blocks core functionality, data loss risk, security issue |
| `high` | Significant impact, affects common workflows, recurring issue |
| `medium` | Moderate impact, workaround exists |
| `low` | Minor inconvenience, edge case, nice-to-have |

## Area Tags

Use to filter learnings by codebase region:

| Area | Scope |
|------|-------|
| `frontend` | UI, components, client-side code |
| `backend` | API, services, server-side code |
| `infra` | CI/CD, deployment, Docker, cloud |
| `tests` | Test files, testing utilities, coverage |
| `docs` | Documentation, comments, READMEs |
| `config` | Configuration files, environment, settings |

## Best Practices

1. **Log immediately** - context is freshest right after the issue
2. **Be specific** - future agents need to understand quickly
3. **Include reproduction steps** - especially for errors
4. **Link related files** - makes fixes easier
5. **Suggest concrete fixes** - not just "investigate"
6. **Use consistent categories** - enables filtering
7. **Promote aggressively** - if in doubt, add to CLAUDE.md or .github/copilot-instructions.md
8. **Review regularly** - stale learnings lose value

## Gitignore Options

**Keep learnings local** (per-developer):
```gitignore
.learnings/
```

**Track learnings in repo** (team-wide):
Don't add to .gitignore - learnings become shared knowledge.

**Hybrid** (track templates, ignore entries):
```gitignore
.learnings/*.md
!.learnings/.gitkeep
```

## Hook Integration

Enable automatic reminders through agent hooks. This is **opt-in** - you must explicitly configure hooks.

### Quick Setup (Claude Code / Codex)

Create `.claude/settings.json` in your project:

```json
{
  "hooks": {
    "UserPromptSubmit": [{
      "matcher": "",
      "hooks": [{
        "type": "command",
        "command": "./skills/self-improvement/scripts/activator.sh"
      }]
    }]
  }
}
```

This injects a learning evaluation reminder after each prompt (~50-100 tokens overhead).

### Full Setup (With Error Detection)

```json
{
  "hooks": {
    "UserPromptSubmit": [{
      "matcher": "",
      "hooks": [{
        "type": "command",
        "command": "./skills/self-improvement/scripts/activator.sh"
      }]
    }],
    "PostToolUse": [{
      "matcher": "Bash",
      "hooks": [{
        "type": "command",
        "command": "./skills/self-improvement/scripts/error-detector.sh"
      }]
    }]
  }
}
```

### Available Hook Scripts

| Script | Hook Type | Purpose |
|--------|-----------|---------|
| `scripts/activator.sh` | UserPromptSubmit | Reminds to evaluate learnings after tasks |
| `scripts/error-detector.sh` | PostToolUse (Bash) | Triggers on command errors |

See `references/hooks-setup.md` for detailed configuration and troubleshooting.

## Automatic Skill Extraction

When a learning is valuable enough to become a reusable skill, extract it using the provided helper.

### Skill Extraction Criteria

A learning qualifies for skill extraction when ANY of these apply:

| Criterion | Description |
|-----------|-------------|
| **Recurring** | Has `See Also` links to 2+ similar issues |
| **Verified** | Status is `resolved` with working fix |
| **Non-obvious** | Required actual debugging/investigation to discover |
| **Broadly applicable** | Not project-specific; useful across codebases |
| **User-flagged** | User says "save this as a skill" or similar |

### Extraction Workflow

1. **Identify candidate**: Learning meets extraction criteria
2. **Run helper** (or create manually):
   ```bash
   ./skills/self-improvement/scripts/extract-skill.sh skill-name --dry-run
   ./skills/self-improvement/scripts/extract-skill.sh skill-name
   ```
3. **Customize SKILL.md**: Fill in template with learning content
4. **Update learning**: Set status to `promoted_to_skill`, add `Skill-Path`
5. **Verify**: Read skill in fresh session to ensure it's self-contained

### Manual Extraction

If you prefer manual creation:

1. Create `skills/<skill-name>/SKILL.md`
2. Use template from `assets/SKILL-TEMPLATE.md`
3. Follow [Agent Skills spec](https://agentskills.io/specification):
   - YAML frontmatter with `name` and `description`
   - Name must match folder name
   - No README.md inside skill folder

### Extraction Detection Triggers

Watch for these signals that a learning should become a skill:

**In conversation:**
- "Save this as a skill"
- "I keep running into this"
- "This would be useful for other projects"
- "Remember this pattern"

**In learning entries:**
- Multiple `See Also` links (recurring issue)
- High priority + resolved status
- Category: `best_practice` with broad applicability
- User feedback praising the solution

### Skill Quality Gates

Before extraction, verify:

- [ ] Solution is tested and working
- [ ] Description is clear without original context
- [ ] Code examples are self-contained
- [ ] No project-specific hardcoded values
- [ ] Follows skill naming conventions (lowercase, hyphens)

## Multi-Agent Support

This skill works across different AI coding agents with agent-specific activation.

### Claude Code

**Activation**: Hooks (UserPromptSubmit, PostToolUse)
**Setup**: `.claude/settings.json` with hook configuration
**Detection**: Automatic via hook scripts

### Codex CLI

**Activation**: Hooks (same pattern as Claude Code)
**Setup**: `.codex/settings.json` with hook configuration
**Detection**: Automatic via hook scripts

### GitHub Copilot

**Activation**: Manual (no hook support)
**Setup**: Add to `.github/copilot-instructions.md`:

```markdown
## Self-Improvement

After solving non-obvious issues, consider logging to `.learnings/`:
1. Use format from self-improvement skill
2. Link related entries with See Also
3. Promote high-value learnings to skills

Ask in chat: "Should I log this as a learning?"
```

**Detection**: Manual review at session end

### OpenClaw

**Activation**: Workspace injection + inter-agent messaging
**Setup**: See "OpenClaw Setup" section above
**Detection**: Via session tools and workspace files

### Agent-Agnostic Guidance

Regardless of agent, apply self-improvement when you:

1. **Discover something non-obvious** - solution wasn't immediate
2. **Correct yourself** - initial approach was wrong
3. **Learn project conventions** - discovered undocumented patterns
4. **Hit unexpected errors** - especially if diagnosis was difficult
5. **Find better approaches** - improved on your original solution

### Copilot Chat Integration

For Copilot users, add this to your prompts when relevant:

> After completing this task, evaluate if any learnings should be logged to `.learnings/` using the self-improvement skill format.

Or use quick prompts:
- "Log this to learnings"
- "Create a skill from this solution"
- "Check .learnings/ for related issues"
